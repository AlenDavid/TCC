\section{Methodologies}

Applying the metrics from \cite{article:mozilla} tool, we are able to calculate the impact of each refactoring example
described in Fowler's refactoring book. To begin analyzing this data we adopted a folder strategy to separate by unique refactor,
containing a before and after file. Then, we transform the output of each file - their complexity metrics - into SQL statements,
to be added into a SQL database for the analysis of the next section.

Starting at Chapter 6, \cite{book:refactoring} will present the first set of patterns, as they are the most common ones.
The next chapters are going to talk about encapsulation, moving resources, organizing data, simplifying conditionals,
refactoring APIs and dealing with inheritance.

\section{The Impact of Common Refactor Patterns}

In this chapter, we show the numeric impact from before and after.

\subsection{Chapter 6}

This chapter covers the patterns for 106, 115, 119, 123, 124, 132, 137, 140, 144, 149 and 154 pattern codes.
\subsubsection{ 106. Extract Function }

\begin{center}
  \begin{tabular}{ |c|c|c| }
    \hline

    Class & Metric Name                           & Difference \\

    \hline

    \multirow{ 1 }{6em}{ Cyclomatic }
          & \verb|sum|                            & 1          \\
    \hline
    \multirow{ 12 }{6em}{ Halstead }
          & \verb|bugs|                           & 0.01       \\
          & \verb|difficulty|                     & 0.8        \\
          & \verb|distinct_operands|              & 1          \\
          & \verb|effort|                         & 343.13     \\
          & \verb|length|                         & 9          \\
          & \verb|level|                          & -0.03      \\
          & \verb|purity_ratio|                   & -0.26      \\
          & \verb|time|                           & 19.06      \\
          & \verb|total_occurrences_of_operands|  & 4          \\
          & \verb|total_occurrences_of_operators| & 5          \\
          & \verb|vocabulary|                     & 1          \\
          & \verb|volume|                         & 40.09      \\
    \hline
    \multirow{ 14 }{6em}{ Loc }
          & \verb|cloc|                           & -1         \\
          & \verb|cloc_average|                   & -0.5       \\
          & \verb|cloc_max|                       & -1         \\
          & \verb|cloc_min|                       & -1         \\
          & \verb|lloc|                           & 2          \\
          & \verb|lloc_max|                       & 2          \\
          & \verb|lloc_min|                       & 2          \\
          & \verb|ploc|                           & 3          \\
          & \verb|ploc_max|                       & 3          \\
          & \verb|ploc_min|                       & 3          \\
          & \verb|sloc|                           & 2          \\
          & \verb|sloc_average|                   & -0.5       \\
          & \verb|sloc_max|                       & 2          \\
          & \verb|sloc_min|                       & 2          \\
    \hline
    \multirow{ 3 }{6em}{ Mi }
          & \verb|mi_original|                    & -5.73      \\
          & \verb|mi_sei|                         & -35.8      \\
          & \verb|mi_visual_studio|               & -3.35      \\
    \hline
    \multirow{ 2 }{6em}{ Nargs }
          & \verb|total|                          & 1          \\
          & \verb|total_functions|                & 1          \\
    \hline
    \multirow{ 4 }{6em}{ Nom }
          & \verb|average|                        & 0.17       \\
          & \verb|functions|                      & 1          \\
          & \verb|functions_average|              & 0.17       \\
          & \verb|total|                          & 1          \\
    \hline
  \end{tabular}
\end{center}
\subsubsection{ 115. Inline Function }

\begin{center}
  \begin{tabular}{ |c|c|c| }
    \hline

    Class & Metric Name                           & Difference \\

    \hline

    \multirow{ 3 }{6em}{ Cognitive }
          & \verb|average|                        & -0.5       \\
          & \verb|max|                            & -1         \\
          & \verb|sum|                            & -1         \\
    \hline
    \multirow{ 3 }{6em}{ Cyclomatic }
          & \verb|average|                        & -0.33      \\
          & \verb|max|                            & -1         \\
          & \verb|sum|                            & -1         \\
    \hline
    \multirow{ 13 }{6em}{ Halstead }
          & \verb|bugs|                           & 0.01       \\
          & \verb|difficulty|                     & -0.7       \\
          & \verb|distinct_operands|              & 3          \\
          & \verb|distinct_operators|             & -2         \\
          & \verb|effort|                         & 263.42     \\
          & \verb|length|                         & 13         \\
          & \verb|level|                          & 0.02       \\
          & \verb|purity_ratio|                   & -0.5       \\
          & \verb|time|                           & 14.63      \\
          & \verb|total_occurrences_of_operands|  & 7          \\
          & \verb|total_occurrences_of_operators| & 6          \\
          & \verb|vocabulary|                     & 1          \\
          & \verb|volume|                         & 56.44      \\
    \hline
    \multirow{ 12 }{6em}{ Loc }
          & \verb|lloc|                           & 2          \\
          & \verb|lloc_average|                   & 0.67       \\
          & \verb|lloc_max|                       & 4          \\
          & \verb|lloc_min|                       & 4          \\
          & \verb|ploc|                           & 3          \\
          & \verb|ploc_average|                   & 1          \\
          & \verb|ploc_max|                       & 6          \\
          & \verb|ploc_min|                       & 6          \\
          & \verb|sloc|                           & 3          \\
          & \verb|sloc_average|                   & 1          \\
          & \verb|sloc_max|                       & 6          \\
          & \verb|sloc_min|                       & 6          \\
    \hline
    \multirow{ 3 }{6em}{ Mi }
          & \verb|mi_original|                    & -8.49      \\
          & \verb|mi_sei|                         & -12.34     \\
          & \verb|mi_visual_studio|               & -4.96      \\
    \hline
    \multirow{ 3 }{6em}{ Nexits }
          & \verb|average|                        & -1         \\
          & \verb|max|                            & -1         \\
          & \verb|sum|                            & -2         \\
    \hline
  \end{tabular}
\end{center}
\subsubsection{ 119. Extract Variable }

\begin{center}
  \begin{tabular}{ |c|c|c| }
    \hline

    Class & Metric Name                           & Difference \\

    \hline

    \multirow{ 13 }{6em}{ Halstead }
          & \verb|bugs|                           & 0.01       \\
          & \verb|difficulty|                     & 0.16       \\
          & \verb|distinct_operands|              & 4          \\
          & \verb|distinct_operators|             & 2          \\
          & \verb|effort|                         & 405.37     \\
          & \verb|length|                         & 6          \\
          & \verb|level|                          & 0          \\
          & \verb|purity_ratio|                   & 0.38       \\
          & \verb|time|                           & 22.52      \\
          & \verb|total_occurrences_of_operands|  & 1          \\
          & \verb|total_occurrences_of_operators| & 5          \\
          & \verb|vocabulary|                     & 6          \\
          & \verb|volume|                         & 46.54      \\
    \hline
    \multirow{ 3 }{6em}{ Mi }
          & \verb|mi_original|                    & -0.94      \\
          & \verb|mi_sei|                         & -1.35      \\
          & \verb|mi_visual_studio|               & -0.55      \\
    \hline
  \end{tabular}
\end{center}
\subsubsection{ 123. Inline Variable }

\begin{center}
  \begin{tabular}{ |c|c|c| }
    \hline

    Class & Metric Name                           & Difference \\

    \hline

    \multirow{ 12 }{6em}{ Halstead }
          & \verb|bugs|                           & -0.01      \\
          & \verb|difficulty|                     & -2.5       \\
          & \verb|distinct_operators|             & -2         \\
          & \verb|effort|                         & -146.33    \\
          & \verb|length|                         & -5         \\
          & \verb|level|                          & 0.28       \\
          & \verb|purity_ratio|                   & 0.19       \\
          & \verb|time|                           & -8.13      \\
          & \verb|total_occurrences_of_operands|  & -2         \\
          & \verb|total_occurrences_of_operators| & -3         \\
          & \verb|vocabulary|                     & -2         \\
          & \verb|volume|                         & -19.19     \\
    \hline
    \multirow{ 8 }{6em}{ Loc }
          & \verb|ploc|                           & -1         \\
          & \verb|ploc_average|                   & -1         \\
          & \verb|ploc_max|                       & -1         \\
          & \verb|ploc_min|                       & -1         \\
          & \verb|sloc|                           & -1         \\
          & \verb|sloc_average|                   & -1         \\
          & \verb|sloc_max|                       & -1         \\
          & \verb|sloc_min|                       & -1         \\
    \hline
    \multirow{ 3 }{6em}{ Mi }
          & \verb|mi_original|                    & 14.28      \\
          & \verb|mi_sei|                         & 20.61      \\
          & \verb|mi_visual_studio|               & 8.35       \\
    \hline
  \end{tabular}
\end{center}
\subsubsection{ 132. Encapsulate Variable }

\begin{center}
  \begin{tabular}{ |c|c|c| }
    \hline

    Class & Metric Name                           & Difference \\

    \hline

    \multirow{ 1 }{6em}{ Cyclomatic }
          & \verb|sum|                            & 2          \\
    \hline
    \multirow{ 13 }{6em}{ Halstead }
          & \verb|bugs|                           & 0.02       \\
          & \verb|difficulty|                     & 3.88       \\
          & \verb|distinct_operands|              & 3          \\
          & \verb|distinct_operators|             & 4          \\
          & \verb|effort|                         & 735.51     \\
          & \verb|length|                         & 18         \\
          & \verb|level|                          & -0.19      \\
          & \verb|purity_ratio|                   & -0.35      \\
          & \verb|time|                           & 40.86      \\
          & \verb|total_occurrences_of_operands|  & 6          \\
          & \verb|total_occurrences_of_operators| & 12         \\
          & \verb|vocabulary|                     & 7          \\
          & \verb|volume|                         & 83.58      \\
    \hline
    \multirow{ 6 }{6em}{ Loc }
          & \verb|lloc|                           & 6          \\
          & \verb|lloc_average|                   & 2          \\
          & \verb|lloc_max|                       & 2          \\
          & \verb|lloc_min|                       & 2          \\
          & \verb|ploc|                           & 2          \\
          & \verb|sloc|                           & 2          \\
    \hline
    \multirow{ 3 }{6em}{ Mi }
          & \verb|mi_original|                    & -23.99     \\
          & \verb|mi_sei|                         & -34.41     \\
          & \verb|mi_visual_studio|               & -14.03     \\
    \hline
    \multirow{ 5 }{6em}{ Nargs }
          & \verb|average|                        & 0.5        \\
          & \verb|average_functions|              & 0.5        \\
          & \verb|functions_max|                  & 1          \\
          & \verb|total|                          & 1          \\
          & \verb|total_functions|                & 1          \\
    \hline
    \multirow{ 3 }{6em}{ Nexits }
          & \verb|average|                        & 0.5        \\
          & \verb|max|                            & 1          \\
          & \verb|sum|                            & 1          \\
    \hline
    \multirow{ 5 }{6em}{ Nom }
          & \verb|average|                        & 0.67       \\
          & \verb|functions|                      & 2          \\
          & \verb|functions_average|              & 0.67       \\
          & \verb|functions_max|                  & 1          \\
          & \verb|total|                          & 2          \\
    \hline
  \end{tabular}
\end{center}
\subsubsection{ 140. Introduce Parameter Object }

\begin{center}
  \begin{tabular}{ |c|c|c| }
    \hline

    Class & Metric Name                           & Difference \\

    \hline

    \multirow{ 13 }{6em}{ Halstead }
          & \verb|bugs|                           & -0.01      \\
          & \verb|difficulty|                     & -1.35      \\
          & \verb|distinct_operands|              & -1         \\
          & \verb|distinct_operators|             & -1         \\
          & \verb|effort|                         & -144.9     \\
          & \verb|length|                         & -6         \\
          & \verb|level|                          & 0.17       \\
          & \verb|purity_ratio|                   & -0.08      \\
          & \verb|time|                           & -8.05      \\
          & \verb|total_occurrences_of_operands|  & -3         \\
          & \verb|total_occurrences_of_operators| & -3         \\
          & \verb|vocabulary|                     & -2         \\
          & \verb|volume|                         & -24.46     \\
    \hline
    \multirow{ 3 }{6em}{ Mi }
          & \verb|mi_original|                    & 2.38       \\
          & \verb|mi_sei|                         & 3.44       \\
          & \verb|mi_visual_studio|               & 1.39       \\
    \hline
    \multirow{ 5 }{6em}{ Nargs }
          & \verb|average|                        & -1         \\
          & \verb|average_functions|              & -1         \\
          & \verb|functions_max|                  & -1         \\
          & \verb|total|                          & -3         \\
          & \verb|total_functions|                & -3         \\
    \hline
  \end{tabular}
\end{center}
\subsubsection{ 144. Combine Functions Into Class }

\begin{center}
  \begin{tabular}{ |c|c|c| }
    \hline

    Class & Metric Name                           & Difference \\

    \hline

    \multirow{ 1 }{6em}{ Cyclomatic }
          & \verb|sum|                            & 1          \\
    \hline
    \multirow{ 12 }{6em}{ Halstead }
          & \verb|bugs|                           & 0          \\
          & \verb|difficulty|                     & -1.25      \\
          & \verb|distinct_operators|             & -1         \\
          & \verb|effort|                         & -66.31     \\
          & \verb|length|                         & -4         \\
          & \verb|level|                          & 0.56       \\
          & \verb|purity_ratio|                   & 0.06       \\
          & \verb|time|                           & -3.68      \\
          & \verb|total_occurrences_of_operands|  & -2         \\
          & \verb|total_occurrences_of_operators| & -2         \\
          & \verb|vocabulary|                     & -1         \\
          & \verb|volume|                         & -13.68     \\
    \hline
    \multirow{ 11 }{6em}{ Loc }
          & \verb|lloc_average|                   & -0.15      \\
          & \verb|lloc_max|                       & 2          \\
          & \verb|lloc_min|                       & 2          \\
          & \verb|ploc|                           & 2          \\
          & \verb|ploc_average|                   & 0.25       \\
          & \verb|ploc_max|                       & 4          \\
          & \verb|ploc_min|                       & 4          \\
          & \verb|sloc|                           & 2          \\
          & \verb|sloc_average|                   & 0.25       \\
          & \verb|sloc_max|                       & 4          \\
          & \verb|sloc_min|                       & 4          \\
    \hline
    \multirow{ 3 }{6em}{ Mi }
          & \verb|mi_original|                    & -6.46      \\
          & \verb|mi_sei|                         & -9.22      \\
          & \verb|mi_visual_studio|               & -3.78      \\
    \hline
    \multirow{ 5 }{6em}{ Nargs }
          & \verb|average|                        & -1         \\
          & \verb|average_functions|              & -1         \\
          & \verb|functions_max|                  & -1         \\
          & \verb|total|                          & -3         \\
          & \verb|total_functions|                & -3         \\
    \hline
    \multirow{ 2 }{6em}{ Nom }
          & \verb|average|                        & -0.15      \\
          & \verb|functions_average|              & -0.15      \\
    \hline
  \end{tabular}
\end{center}
\subsubsection{ 149. Combine Functions Into Transform }

\begin{center}
  \begin{tabular}{ |c|c|c| }
    \hline

    Class & Metric Name                           & Difference \\

    \hline

    \multirow{ 1 }{6em}{ Cyclomatic }
          & \verb|sum|                            & -1         \\
    \hline
    \multirow{ 13 }{6em}{ Halstead }
          & \verb|bugs|                           & 0.03       \\
          & \verb|difficulty|                     & 4.55       \\
          & \verb|distinct_operands|              & 8          \\
          & \verb|distinct_operators|             & 5          \\
          & \verb|effort|                         & 949.27     \\
          & \verb|length|                         & 26         \\
          & \verb|level|                          & -0.35      \\
          & \verb|purity_ratio|                   & 0.77       \\
          & \verb|time|                           & 52.74      \\
          & \verb|total_occurrences_of_operands|  & 14         \\
          & \verb|total_occurrences_of_operators| & 12         \\
          & \verb|vocabulary|                     & 13         \\
          & \verb|volume|                         & 127.08     \\
    \hline
    \multirow{ 12 }{6em}{ Loc }
          & \verb|lloc|                           & 2          \\
          & \verb|lloc_average|                   & 1.33       \\
          & \verb|lloc_max|                       & 3          \\
          & \verb|lloc_min|                       & 3          \\
          & \verb|ploc|                           & 4          \\
          & \verb|ploc_average|                   & 2.33       \\
          & \verb|ploc_max|                       & 5          \\
          & \verb|ploc_min|                       & 5          \\
          & \verb|sloc|                           & 4          \\
          & \verb|sloc_average|                   & 2.33       \\
          & \verb|sloc_max|                       & 5          \\
          & \verb|sloc_min|                       & 5          \\
    \hline
    \multirow{ 3 }{6em}{ Mi }
          & \verb|mi_original|                    & -26.81     \\
          & \verb|mi_sei|                         & -38.78     \\
          & \verb|mi_visual_studio|               & -15.68     \\
    \hline
    \multirow{ 2 }{6em}{ Nargs }
          & \verb|total|                          & -1         \\
          & \verb|total_functions|                & -1         \\
    \hline
    \multirow{ 3 }{6em}{ Nexits }
          & \verb|average|                        & 1          \\
          & \verb|max|                            & 1          \\
          & \verb|sum|                            & 1          \\
    \hline
    \multirow{ 4 }{6em}{ Nom }
          & \verb|average|                        & -0.17      \\
          & \verb|functions|                      & -1         \\
          & \verb|functions_average|              & -0.17      \\
          & \verb|total|                          & -1         \\
    \hline
  \end{tabular}
\end{center}
\subsubsection{ 154. Split Phase }

\begin{center}
  \begin{tabular}{ |c|c|c| }
    \hline

    Class & Metric Name                           & Difference \\

    \hline

    \multirow{ 1 }{6em}{ Cyclomatic }
          & \verb|sum|                            & 2          \\
    \hline
    \multirow{ 13 }{6em}{ Halstead }
          & \verb|bugs|                           & 0.06       \\
          & \verb|difficulty|                     & 5.96       \\
          & \verb|distinct_operands|              & 7          \\
          & \verb|distinct_operators|             & 5          \\
          & \verb|effort|                         & 3489.34    \\
          & \verb|length|                         & 38         \\
          & \verb|level|                          & -0.09      \\
          & \verb|purity_ratio|                   & -0.07      \\
          & \verb|time|                           & 193.85     \\
          & \verb|total_occurrences_of_operands|  & 17         \\
          & \verb|total_occurrences_of_operators| & 21         \\
          & \verb|vocabulary|                     & 12         \\
          & \verb|volume|                         & 215.77     \\
    \hline
    \multirow{ 10 }{6em}{ Loc }
          & \verb|lloc|                           & 4          \\
          & \verb|lloc_average|                   & 1.33       \\
          & \verb|lloc_max|                       & 2          \\
          & \verb|lloc_min|                       & 2          \\
          & \verb|ploc|                           & 9          \\
          & \verb|ploc_average|                   & 1          \\
          & \verb|ploc_max|                       & 4          \\
          & \verb|sloc|                           & 9          \\
          & \verb|sloc_average|                   & 1          \\
          & \verb|sloc_max|                       & 4          \\
    \hline
    \multirow{ 3 }{6em}{ Mi }
          & \verb|mi_original|                    & -27.28     \\
          & \verb|mi_sei|                         & -39.15     \\
          & \verb|mi_visual_studio|               & -15.95     \\
    \hline
    \multirow{ 5 }{6em}{ Nargs }
          & \verb|average|                        & 1.5        \\
          & \verb|average_functions|              & 1.5        \\
          & \verb|functions_max|                  & 2          \\
          & \verb|total|                          & 3          \\
          & \verb|total_functions|                & 3          \\
    \hline
    \multirow{ 3 }{6em}{ Nexits }
          & \verb|average|                        & 1          \\
          & \verb|max|                            & 1          \\
          & \verb|sum|                            & 2          \\
    \hline
    \multirow{ 5 }{6em}{ Nom }
          & \verb|average|                        & 0.67       \\
          & \verb|functions|                      & 2          \\
          & \verb|functions_average|              & 0.67       \\
          & \verb|functions_max|                  & 1          \\
          & \verb|total|                          & 2          \\
    \hline
  \end{tabular}
\end{center}
