\section{Methodologies}

Applying the metrics from \cite{article:mozilla} tool, we are able to calculate the impact of each refactoring example
described in Fowler's refactoring book. To begin analyzing this data we adopted a folder strategy to separate by unique refactor,
containing a before and after file. Then, we transform the output of each file - their complexity metrics - into SQL statements,
to be added into a SQL database for the analysis of the next section.

Starting at Chapter 6, \cite{book:refactoring} will present the first set of patterns, as they are the most common ones.
The next chapters are going to talk about encapsulation, moving resources, organizing data, simplifying conditionals,
refactoring APIs and dealing with inheritance.

\section{The Impact of Common Refactor Patterns}

\begin{verbatim}
  123_inline_variable:
  metrics.halstead.distinct_operators: 2
  metrics.halstead.total_occurrences_of_operators: 3
  metrics.halstead.total_occurrences_of_operands: 2
  metrics.halstead.length: 5
  metrics.halstead.estimated_program_length: 7.5097750043269365
  metrics.halstead.purity_ratio: -0.1915557688979279
  metrics.halstead.vocabulary: 2
  metrics.halstead.volume: 19.18506523353571
  metrics.halstead.difficulty: 2.5
  metrics.halstead.level: -0.2777777777777778
  metrics.halstead.effort: 146.3327935509107
  metrics.halstead.time: 8.129599641717261
  metrics.halstead.bugs: 0.006780889108125562
  metrics.loc.sloc: 1
  metrics.loc.ploc: 1
  metrics.loc.sloc_average: 1
  metrics.loc.ploc_average: 1
  metrics.loc.sloc_min: 1
  metrics.loc.sloc_max: 1
  metrics.loc.ploc_min: 1
  metrics.loc.ploc_max: 1
  metrics.mi.mi_original: -14.2836769683758
  metrics.mi.mi_sei: -20.606989927935686
  metrics.mi.mi_visual_studio: -8.35302746688643
124_change_function_declaration: {}
154_split_phase:
  metrics.nargs.total_functions: -3
  metrics.nargs.average_functions: -1.5
  metrics.nargs.total: -3
  metrics.nargs.average: -1.5
  metrics.nargs.functions_max: -2
  metrics.nexits.sum: -2
  metrics.nexits.average: -1
  metrics.nexits.max: -1
  metrics.cyclomatic.sum: -2
  metrics.halstead.distinct_operators: -5
  metrics.halstead.total_occurrences_of_operators: -21
  metrics.halstead.distinct_operands: -7
  metrics.halstead.total_occurrences_of_operands: -17
  metrics.halstead.length: -38
  metrics.halstead.estimated_program_length: -61.79678908260843
  metrics.halstead.purity_ratio: 0.068720538500598
  metrics.halstead.vocabulary: -12
  metrics.halstead.volume: -215.7667323942802
  metrics.halstead.difficulty: -5.964912280701754
  metrics.halstead.level: 0.09049773755656107
  metrics.halstead.effort: -3489.344816900921
  metrics.halstead.time: -193.85248982782895
  metrics.halstead.bugs: -0.05800204620881337
  metrics.loc.sloc: -9
  metrics.loc.ploc: -9
  metrics.loc.lloc: -4
  metrics.loc.sloc_average: -1
  metrics.loc.ploc_average: -1
  metrics.loc.lloc_average: -1.3333333333333333
  metrics.loc.sloc_max: -4
  metrics.loc.ploc_max: -4
  metrics.loc.lloc_min: -2
  metrics.loc.lloc_max: -2
  metrics.nom.functions: -2
  metrics.nom.functions_average: -0.6666666666666666
  metrics.nom.total: -2
  metrics.nom.average: -0.6666666666666666
  metrics.nom.functions_max: -1
  metrics.mi.mi_original: 27.280162704788893
  metrics.mi.mi_sei: 39.15331573003404
  metrics.mi.mi_visual_studio: 15.953311523268354
140_introduce_parameter_object:
  metrics.nargs.total_functions: 3
  metrics.nargs.average_functions: 1
  metrics.nargs.total: 3
  metrics.nargs.average: 1
  metrics.nargs.functions_max: 1
  metrics.halstead.distinct_operators: 1
  metrics.halstead.total_occurrences_of_operators: 3
  metrics.halstead.distinct_operands: 1
  metrics.halstead.total_occurrences_of_operands: 3
  metrics.halstead.length: 6
  metrics.halstead.estimated_program_length: 6.8547529722733405
  metrics.halstead.purity_ratio: 0.08346657006704539
  metrics.halstead.vocabulary: 2
  metrics.halstead.volume: 24.45810119942449
  metrics.halstead.difficulty: 1.35
  metrics.halstead.level: -0.16666666666666663
  metrics.halstead.effort: 144.89810148959464
  metrics.halstead.time: 8.049894527199703
  metrics.halstead.bugs: 0.005932782210092222
  metrics.mi.mi_original: -2.381274657941816
  metrics.mi.mi_sei: -3.435453140007212
  metrics.mi.mi_visual_studio: -1.3925582794981324
119_extract_variable:
  metrics.halstead.distinct_operators: -2
  metrics.halstead.total_occurrences_of_operators: -5
  metrics.halstead.distinct_operands: -4
  metrics.halstead.total_occurrences_of_operands: -1
  metrics.halstead.length: -6
  metrics.halstead.estimated_program_length: -31.326544770173967
  metrics.halstead.purity_ratio: -0.3757825512083155
  metrics.halstead.vocabulary: -6
  metrics.halstead.volume: -46.537676002434466
  metrics.halstead.difficulty: -0.16140350877192944
  metrics.halstead.level: 0.002643678160919538
  metrics.halstead.effort: -405.3688814188274
  metrics.halstead.time: -22.520493412157066
  metrics.halstead.bugs: -0.00712939261790007
  metrics.mi.mi_original: 0.9387169146336873
  metrics.mi.mi_sei: 1.3542822375405876
  metrics.mi.mi_visual_studio: 0.548957260019705
106_extract_function:
  metrics.nargs.total_functions: -1
  metrics.nargs.total: -1
  metrics.cyclomatic.sum: -1
  metrics.halstead.total_occurrences_of_operators: -5
  metrics.halstead.distinct_operands: -1
  metrics.halstead.total_occurrences_of_operands: -4
  metrics.halstead.length: -9
  metrics.halstead.estimated_program_length: -4.834466856136643
  metrics.halstead.purity_ratio: 0.2628777549106902
  metrics.halstead.vocabulary: -1
  metrics.halstead.volume: -40.08565197893198
  metrics.halstead.difficulty: -0.7954545454545459
  metrics.halstead.level: 0.02506265664160401
  metrics.halstead.effort: -343.12910475346655
  metrics.halstead.time: -19.062728041859252
  metrics.halstead.bugs: -0.008117283214533498
  metrics.loc.sloc: -2
  metrics.loc.ploc: -3
  metrics.loc.lloc: -2
  metrics.loc.cloc: 1
  metrics.loc.sloc_average: 0.5
  metrics.loc.cloc_average: 0.5
  metrics.loc.sloc_min: -2
  metrics.loc.sloc_max: -2
  metrics.loc.cloc_min: 1
  metrics.loc.cloc_max: 1
  metrics.loc.ploc_min: -3
  metrics.loc.ploc_max: -3
  metrics.loc.lloc_min: -2
  metrics.loc.lloc_max: -2
  metrics.nom.functions: -1
  metrics.nom.functions_average: -0.16666666666666663
  metrics.nom.total: -1
  metrics.nom.average: -0.16666666666666663
  metrics.mi.mi_original: 5.730596182360259
  metrics.mi.mi_sei: 35.798159974316135
  metrics.mi.mi_visual_studio: 3.3512258376375854
144_combine_functions_into_class:
  metrics.nargs.total_functions: 3
  metrics.nargs.average_functions: 1
  metrics.nargs.total: 3
  metrics.nargs.average: 1
  metrics.nargs.functions_max: 1
  metrics.cyclomatic.sum: -1
  metrics.halstead.distinct_operators: 1
  metrics.halstead.total_occurrences_of_operators: 2
  metrics.halstead.total_occurrences_of_operands: 2
  metrics.halstead.length: 4
  metrics.halstead.estimated_program_length: 2.7548875021634682
  metrics.halstead.purity_ratio: -0.05876507561334454
  metrics.halstead.vocabulary: 1
  metrics.halstead.volume: 13.675736322931343
  metrics.halstead.difficulty: 1.25
  metrics.halstead.level: -0.5555555555555556
  metrics.halstead.effort: 66.31364111151142
  metrics.halstead.time: 3.684091172861746
  metrics.halstead.bugs: 0.0038224133779894837
  metrics.loc.sloc: -2
  metrics.loc.ploc: -2
  metrics.loc.sloc_average: -0.25
  metrics.loc.ploc_average: -0.25
  metrics.loc.lloc_average: 0.15000000000000002
  metrics.loc.sloc_min: -4
  metrics.loc.sloc_max: -4
  metrics.loc.ploc_min: -4
  metrics.loc.ploc_max: -4
  metrics.loc.lloc_min: -2
  metrics.loc.lloc_max: -2
  metrics.nom.functions_average: 0.15000000000000002
  metrics.nom.average: 0.15000000000000002
  metrics.mi.mi_original: 6.463404482891889
  metrics.mi.mi_sei: 9.222901735323148
  metrics.mi.mi_visual_studio: 3.7797687034455407
132_encapsulate_variable:
  metrics.nargs.total_functions: -1
  metrics.nargs.average_functions: -0.5
  metrics.nargs.total: -1
  metrics.nargs.average: -0.5
  metrics.nargs.functions_max: -1
  metrics.nexits.sum: -1
  metrics.nexits.average: -0.5
  metrics.nexits.max: -1
  metrics.cyclomatic.sum: -2
  metrics.halstead.distinct_operators: -4
  metrics.halstead.total_occurrences_of_operators: -12
  metrics.halstead.distinct_operands: -3
  metrics.halstead.total_occurrences_of_operands: -6
  metrics.halstead.length: -18
  metrics.halstead.estimated_program_length: -30.099865470109876
  metrics.halstead.purity_ratio: 0.35264192493452473
  metrics.halstead.vocabulary: -7
  metrics.halstead.volume: -83.5845706196218
  metrics.halstead.difficulty: -3.875
  metrics.halstead.level: 0.18787878787878787
  metrics.halstead.effort: -735.5074932765342
  metrics.halstead.time: -40.8615274042519
  metrics.halstead.bugs: -0.021832948791896626
  metrics.loc.sloc: -2
  metrics.loc.ploc: -2
  metrics.loc.lloc: -6
  metrics.loc.lloc_average: -2
  metrics.loc.lloc_min: -2
  metrics.loc.lloc_max: -2
  metrics.nom.functions: -2
  metrics.nom.functions_average: -0.6666666666666666
  metrics.nom.total: -2
  metrics.nom.average: -0.6666666666666666
  metrics.nom.functions_max: -1
  metrics.mi.mi_original: 23.993558365934547
  metrics.mi.mi_sei: 34.411747949004706
  metrics.mi.mi_visual_studio: 14.031320681833066
149_combine_functions_into_transform:
  metrics.nargs.total_functions: 1
  metrics.nargs.total: 1
  metrics.nexits.sum: -1
  metrics.nexits.average: -1
  metrics.nexits.max: -1
  metrics.cyclomatic.sum: 1
  metrics.halstead.distinct_operators: -5
  metrics.halstead.total_occurrences_of_operators: -12
  metrics.halstead.distinct_operands: -8
  metrics.halstead.total_occurrences_of_operands: -14
  metrics.halstead.length: -26
  metrics.halstead.estimated_program_length: -52.543972800683335
  metrics.halstead.purity_ratio: -0.772737716373147
  metrics.halstead.vocabulary: -13
  metrics.halstead.volume: -127.07576547675751
  metrics.halstead.difficulty: -4.545454545454546
  metrics.halstead.level: 0.3472222222222222
  metrics.halstead.effort: -949.2669422442835
  metrics.halstead.time: -52.73705234690464
  metrics.halstead.bugs: -0.028728844003900966
  metrics.loc.sloc: -4
  metrics.loc.ploc: -4
  metrics.loc.lloc: -2
  metrics.loc.sloc_average: -2.3333333333333335
  metrics.loc.ploc_average: -2.3333333333333335
  metrics.loc.lloc_average: -1.3333333333333335
  metrics.loc.sloc_min: -5
  metrics.loc.sloc_max: -5
  metrics.loc.ploc_min: -5
  metrics.loc.ploc_max: -5
  metrics.loc.lloc_min: -3
  metrics.loc.lloc_max: -3
  metrics.nom.functions: 1
  metrics.nom.functions_average: 0.16666666666666663
  metrics.nom.total: 1
  metrics.nom.average: 0.16666666666666663
  metrics.mi.mi_original: 26.811320210271106
  metrics.mi.mi_sei: 38.78237856644864
  metrics.mi.mi_visual_studio: 15.679134625889532
115_inline_function:
  metrics.nexits.sum: 2
  metrics.nexits.average: 1
  metrics.nexits.max: 1
  metrics.cognitive.sum: 1
  metrics.cognitive.average: 0.5
  metrics.cognitive.max: 1
  metrics.cyclomatic.sum: 1
  metrics.cyclomatic.average: 0.33333333333333326
  metrics.cyclomatic.max: 1
  metrics.halstead.distinct_operators: 2
  metrics.halstead.total_occurrences_of_operators: -6
  metrics.halstead.distinct_operands: -3
  metrics.halstead.total_occurrences_of_operands: -7
  metrics.halstead.length: -13
  metrics.halstead.estimated_program_length: -5.175907246432686
  metrics.halstead.purity_ratio: 0.5028997495509888
  metrics.halstead.vocabulary: -1
  metrics.halstead.volume: -56.435503343933334
  metrics.halstead.difficulty: 0.7045454545454541
  metrics.halstead.level: -0.017265385686438317
  metrics.halstead.effort: -263.4235793490849
  metrics.halstead.time: -14.63464329717138
  metrics.halstead.bugs: -0.006126772595516482
  metrics.loc.sloc: -3
  metrics.loc.ploc: -3
  metrics.loc.lloc: -2
  metrics.loc.sloc_average: -1
  metrics.loc.ploc_average: -1
  metrics.loc.lloc_average: -0.6666666666666667
  metrics.loc.sloc_min: -6
  metrics.loc.sloc_max: -6
  metrics.loc.ploc_min: -6
  metrics.loc.ploc_max: -6
  metrics.loc.lloc_min: -4
  metrics.loc.lloc_max: -4
  metrics.mi.mi_original: 8.486218955662096
  metrics.mi.mi_sei: 12.344845862636063
  metrics.mi.mi_visual_studio: 4.962701143662045
137_rename_variable: {}

\end{verbatim}
